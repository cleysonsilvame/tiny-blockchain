<div class="min-h-screen h-screen bg-slate-950 flex flex-col">
  <app-header />

  <div class="
    hidden
    xl:flex
    flex-1 min-h-0
  ">
    <app-resizable-split direction="horizontal" [initialRatio]="25" [minRatio]="15" [maxRatio]="40">
      <app-mempool-sidebar class="h-full" slot="start" data-testid="mempool-sidebar" />

      <app-resizable-split direction="horizontal" [initialRatio]="70" [minRatio]="70" [maxRatio]="80" slot="end" class="
        h-full
      ">
        <app-resizable-split direction="vertical" [initialRatio]="80" [minRatio]="20" [maxRatio]="80" slot="start" class="
          h-full
        ">
          <div slot="start" class="
            border-b border-slate-800 h-full overflow-auto
          ">
            <app-mining-block class="h-full" data-testid="mining-block" />
          </div>

          <div slot="end" class="overflow-auto min-h-0 h-full">
            <app-blockchain-display data-testid="blockchain-display" />
          </div>
        </app-resizable-split>

        <div slot="end" class="
          h-full flex flex-col overflow-y-auto bg-slate-950 border-l
          border-slate-800
        ">
          <app-stats-dashboard data-testid="stats-dashboard" />
          <app-wallet-explorer class="flex-1" data-testid="wallet-explorer" />
        </div>
      </app-resizable-split>
    </app-resizable-split>
  </div>

  <div class="
    flex
    xl:hidden
    flex-1 min-h-0 flex-col
  ">
    <div class="
      flex border-b border-slate-800 bg-slate-900 overflow-x-auto scrollbar-hide
    ">
      <app-tab-button
        label="Mempool"
        [isActive]="isTabActive('mempool')"
        (tabSelected)="setActiveMobileTab('mempool')"
      ></app-tab-button>
      <app-tab-button
        label="Mining"
        [isActive]="isTabActive('mining')"
        (tabSelected)="setActiveMobileTab('mining')"
      ></app-tab-button>
      <app-tab-button
        label="Chain"
        [isActive]="isTabActive('blockchain')"
        (tabSelected)="setActiveMobileTab('blockchain')"
      ></app-tab-button>
      <app-tab-button
        label="Stats"
        [isActive]="isTabActive('stats')"
        (tabSelected)="setActiveMobileTab('stats')"
      ></app-tab-button>
      <app-tab-button
        label="Wallet"
        [isActive]="isTabActive('wallet')"
        (tabSelected)="setActiveMobileTab('wallet')"
      ></app-tab-button>
    </div>

    <div class="flex-1 overflow-hidden">
      <ng-container [ngComponentOutlet]="activeTabComponent()"></ng-container>
    </div>
  </div>
</div>
