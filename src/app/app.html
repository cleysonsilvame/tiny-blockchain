<div class="min-h-screen h-screen bg-slate-950 flex flex-col">
  <app-header />

  <div class="
    hidden
    xl:flex
    flex-1 min-h-0
  ">
    <app-resizable-split direction="horizontal" [initialRatio]="25" [minRatio]="15" [maxRatio]="40">
      <app-mempool-sidebar class="h-full" slot="start" />

      <app-resizable-split direction="horizontal" [initialRatio]="70" [minRatio]="70" [maxRatio]="80" slot="end" class="
        h-full
      ">
        <app-resizable-split direction="vertical" [initialRatio]="80" [minRatio]="20" [maxRatio]="80" slot="start" class="
          h-full
        ">
          <div slot="start" class="
            border-b border-slate-800 h-full overflow-auto
          ">
            <app-mining-block class="h-full" />
          </div>

          <div slot="end" class="overflow-auto min-h-0 h-full">
            <app-blockchain-display />
          </div>
        </app-resizable-split>

        <div slot="end" class="
          h-full flex flex-col overflow-y-auto bg-slate-950 border-l
          border-slate-800
        ">
          <app-stats-dashboard />
          <app-wallet-explorer class="flex-1" />
        </div>
      </app-resizable-split>
    </app-resizable-split>
  </div>

  <div class="
    flex
    xl:hidden
    flex-1 min-h-0 flex-col
  ">
    <div class="
      flex border-b border-slate-800 bg-slate-900 overflow-x-auto scrollbar-hide
    ">
      <button (click)="setActiveMobileTab('mempool')" [class.bg-blue-600]="activeMobileTab() === 'mempool'"
        [class.bg-slate-800]="activeMobileTab() !== 'mempool'" [class.text-gray-400]="activeMobileTab() !== 'mempool'"
        [class.text-white]="activeMobileTab() === 'mempool'" class="
          px-3 py-2 text-xs whitespace-nowrap border-b-2 transition-colors
        " [class.border-blue-500]="activeMobileTab() === 'mempool'"
        [class.border-transparent]="activeMobileTab() !== 'mempool'">
        Mempool
      </button>
      <button (click)="setActiveMobileTab('mining')" [class.bg-blue-600]="activeMobileTab() === 'mining'"
        [class.bg-slate-800]="activeMobileTab() !== 'mining'" [class.text-gray-400]="activeMobileTab() !== 'mining'"
        [class.text-white]="activeMobileTab() === 'mining'" class="
          px-3 py-2 text-xs whitespace-nowrap border-b-2 transition-colors
        " [class.border-blue-500]="activeMobileTab() === 'mining'"
        [class.border-transparent]="activeMobileTab() !== 'mining'">
        Mining
      </button>
      <button (click)="setActiveMobileTab('blockchain')" [class.bg-blue-600]="activeMobileTab() === 'blockchain'"
        [class.bg-slate-800]="activeMobileTab() !== 'blockchain'"
        [class.text-gray-400]="activeMobileTab() !== 'blockchain'"
        [class.text-white]="activeMobileTab() === 'blockchain'" class="
          px-3 py-2 text-xs whitespace-nowrap border-b-2 transition-colors
        " [class.border-blue-500]="activeMobileTab() === 'blockchain'"
        [class.border-transparent]="activeMobileTab() !== 'blockchain'">
        Chain
      </button>
      <button (click)="setActiveMobileTab('stats')" [class.bg-blue-600]="activeMobileTab() === 'stats'"
        [class.bg-slate-800]="activeMobileTab() !== 'stats'" [class.text-gray-400]="activeMobileTab() !== 'stats'"
        [class.text-white]="activeMobileTab() === 'stats'" class="
          px-3 py-2 text-xs whitespace-nowrap border-b-2 transition-colors
        " [class.border-blue-500]="activeMobileTab() === 'stats'"
        [class.border-transparent]="activeMobileTab() !== 'stats'">
        Stats
      </button>
      <button (click)="setActiveMobileTab('wallet')" [class.bg-blue-600]="activeMobileTab() === 'wallet'"
        [class.bg-slate-800]="activeMobileTab() !== 'wallet'" [class.text-gray-400]="activeMobileTab() !== 'wallet'"
        [class.text-white]="activeMobileTab() === 'wallet'" class="
          px-3 py-2 text-xs whitespace-nowrap border-b-2 transition-colors
        " [class.border-blue-500]="activeMobileTab() === 'wallet'"
        [class.border-transparent]="activeMobileTab() !== 'wallet'">
        Wallet
      </button>
    </div>

    <div class="flex-1 overflow-hidden">
      <ng-container [ngComponentOutlet]="activeTabComponent()"></ng-container>
    </div>
  </div>
</div>
